"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6291],{9254:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(959),n=r(2411),o=r(6787),i=r(2180),l=r(4635);const s="container_KHaM",c="session_k0Fj",p="response_Ger1",u="tool_nUFu",d="notool_i7V8",h=e=>{e.getWrapperElement().closest(".graphiql-editor").style.height=`${e.doc.height}px`};function m(e){const{queryEditor:t,variableEditor:r,headerEditor:n}=(0,l._i)({nonNull:!0}),o=(0,l.JB)({nonNull:!0}),[i,m]=(0,a.useState)(e.defaultTab),y=(0,l.Xd)({onCopyQuery:e.onCopyQuery}),f=(0,l.fE)();return(0,a.useEffect)((()=>{f()}),[f]),(0,a.useEffect)((()=>{t&&(t.setOption("lineNumbers",!1),t.setOption("gutters",[]),t.on("change",h),h(t))}),[t]),(0,a.useEffect)((()=>{r&&(r.setOption("lineNumbers",!1),r.setOption("gutters",[]),r.on("change",h),h(r))}),[r]),(0,a.useEffect)((()=>{n&&(n.setOption("lineNumbers",!1),n.setOption("gutters",[]),n.on("change",h),h(n))}),[n]),a.createElement("div",{className:`graphiql-container ${s}`},a.createElement("div",{className:`graphiql-session ${c}`},a.createElement("div",{className:"graphiql-editors"},a.createElement("section",{className:"graphiql-query-editor","aria-label":"Query Editor"},a.createElement("div",{className:"graphiql-query-editor-wrapper"},a.createElement(l.WK,{style:{background:"red"},editorTheme:e.editorTheme,keyMap:e.keyMap,onCopyQuery:e.onCopyQuery,onEdit:e.onEditQuery,readOnly:e.readOnly})),a.createElement("div",{className:"graphiql-toolbar",role:"toolbar","aria-label":"Editor Commands"},a.createElement(l._8,null),a.createElement(l.wC,{onClick:()=>f(),label:"Prettify query (Shift-Ctrl-P)"},a.createElement(l.Kt,{className:"graphiql-toolbar-icon","aria-hidden":"true"})),a.createElement(l.wC,{onClick:()=>y(),label:"Copy query (Shift-Ctrl-C)"},a.createElement(l.TI,{className:"graphiql-toolbar-icon","aria-hidden":"true"})))),a.createElement("div",{className:"graphiql-editor-tools"},a.createElement("div",{className:"graphiql-editor-tools-tabs"},a.createElement(l.v0,{type:"button",className:"variables"===i?"active":"",onClick:()=>{m("variables"===i?"":"variables")}},"Variables"),a.createElement(l.v0,{type:"button",className:"headers"===i?"active":"",onClick:()=>{m("headers"===i?"":"headers")}},"Headers"))),a.createElement("section",{className:`graphiql-editor-tool ${i&&i.length>0?u:d}`,"aria-label":"variables"===i?"Variables":"Headers"},a.createElement(l.hF,{editorTheme:e.editorTheme,isHidden:"variables"!==i,keyMap:e.keyMap,onEdit:e.onEditVariables,readOnly:e.readOnly}),a.createElement(l.LA,{editorTheme:e.editorTheme,isHidden:"headers"!==i,keyMap:e.keyMap,onEdit:e.onEditHeaders,readOnly:e.readOnly})))),a.createElement("div",{className:`graphiql-response ${p}`},o.isFetching?a.createElement(l.$j,null):null,a.createElement(l.iB,{editorTheme:e.editorTheme,responseTooltip:e.responseTooltip,keyMap:e.keyMap})))}class y{constructor(){this.map=new Map,this.length=0}getItem(e){return this.map.get(e)}setItem(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}removeItem(e){this.map.has(e)&&(this.length-=1),this.map.delete(e)}clear(){this.length=0,this.map.clear()}}function f(e){let{typegraph:t,query:r,headers:s={},variables:c={},tab:p=""}=e;const{siteConfig:{customFields:{tgUrl:u}}}=(0,i.Z)();console.log(r);const d=(0,a.useMemo)((()=>new y),[]);return a.createElement(o.Z,{fallback:a.createElement("div",null,"Loading...")},(()=>{const e=(0,a.useMemo)((()=>(0,n.nq)({url:`${u}/${t}`})),[]);return a.createElement(l.j$,{fetcher:e,defaultQuery:r.loc.source.body,defaultHeaders:JSON.stringify(s),variables:JSON.stringify(c),storage:d},a.createElement(m,{defaultTab:p}))}))}},6834:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>m,frontMatter:()=>s,metadata:()=>p,toc:()=>d});var a=r(5882),n=(r(959),r(7942)),o=r(6224),i=r(9254),l=r(4881);const s={sidebar_position:2,comments:!1},c="Typegraph",p={unversionedId:"concepts/typegraph/index",id:"concepts/typegraph/index",title:"Typegraph",description:"Typegraph is Python package for building graphs of types and manage metadata.",source:"@site/docs/concepts/typegraph/index.mdx",sourceDirName:"concepts/typegraph",slug:"/concepts/typegraph/",permalink:"/docs/concepts/typegraph/",draft:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/website/docs/concepts/typegraph/index.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,comments:!1},sidebar:"concepts",previous:{title:"Overview",permalink:"/docs/concepts/overview"},next:{title:"Importers",permalink:"/docs/concepts/typegraph/importers"}},u={},d=[{value:"Types",id:"types",level:2},{value:"Runtimes",id:"runtimes",level:2},{value:"Materializers",id:"materializers",level:2},{value:"Policies",id:"policies",level:2}],h={toc:d};function m(e){let{components:t,...s}=e;return(0,n.kt)("wrapper",(0,a.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"typegraph"},"Typegraph"),(0,n.kt)("p",null,"Typegraph is ",(0,n.kt)("a",{parentName:"p",href:"https://pypi.org/project/typegraph/"},"Python package")," for building graphs of types and manage metadata."),(0,n.kt)(o.Z,{language:"py",title:"test",mdxType:"CodeBlock"},r(3629).Z),(0,n.kt)("h2",{id:"types"},"Types"),(0,n.kt)("h2",{id:"runtimes"},"Runtimes"),(0,n.kt)("h2",{id:"materializers"},"Materializers"),(0,n.kt)("h2",{id:"policies"},"Policies"),(0,n.kt)(i.Z,{typegraph:"typegate",variables:{a:"1"},headers:{Authorization:"Basic YWRtaW46cGFzc3dvcmQ="},query:l.ZP`
    {
      typegraphs {
        name
      }
    }
  `,mdxType:"MiniQL"}))}m.isMDXComponent=!0},4881:(e,t,r)=>{r.d(t,{Ps:()=>d,ZP:()=>v});var a=r(677),n=r(2472),o=new Map,i=new Map,l=!0,s=!1;function c(e){return e.replace(/[\s,]+/g," ").trim()}function p(e){var t=new Set,r=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var a=e.name.value,n=c((s=e.loc).source.body.substring(s.start,s.end)),o=i.get(a);o&&!o.has(n)?l&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||i.set(a,o=new Set),o.add(n),t.has(n)||(t.add(n),r.push(e))}else r.push(e);var s})),(0,a.pi)((0,a.pi)({},e),{definitions:r})}function u(e){var t=c(e);if(!o.has(t)){var r=(0,n.Qc)(e,{experimentalFragmentVariables:s,allowLegacyFragmentVariables:s});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");o.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(r){var a=e[r];a&&"object"==typeof a&&t.add(a)}))}));var r=e.loc;return r&&(delete r.startToken,delete r.endToken),e}(p(r)))}return o.get(t)}function d(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];"string"==typeof e&&(e=[e]);var a=e[0];return t.forEach((function(t,r){t&&"Document"===t.kind?a+=t.loc.source.body:a+=t,a+=e[r+1]})),u(a)}var h,m=d,y=function(){o.clear(),i.clear()},f=function(){l=!1},g=function(){s=!0},b=function(){s=!1};(h=d||(d={})).gql=m,h.resetCaches=y,h.disableFragmentWarnings=f,h.enableExperimentalFragmentVariables=g,h.disableExperimentalFragmentVariables=b,d.default=d;const v=d},3629:(e,t,r)=>{r.d(t,{Z:()=>a});const a='from typegraph.graphs.typegraph import TypeGraph\nfrom typegraph.materializers.deno import FunMat\nfrom typegraph.materializers.graphql import GraphQLRuntime\nfrom typegraph.policies import Policy\nfrom typegraph.types import types as t\n\nwith TypeGraph("mini") as g:\n\n    remote = GraphQLRuntime("https://graphqlzero.almansi.me/api")\n\n    allow_all = Policy(FunMat("() => true")).named("allow_all_policy")\n\n    post = t.struct(\n        {\n            "id": t.integer(),\n            "title": t.string(),\n            "body": t.string(),\n        }\n    ).named("Post")\n\n    getter = remote.query(t.struct({"id": t.integer()}), t.optional(post)).add_policy(\n        allow_all\n    )\n\n    g.expose(post=getter)\n'},677:(e,t,r)=>{r.d(t,{Jh:()=>s,ZT:()=>n,_T:()=>i,ev:()=>c,mG:()=>l,pi:()=>o});var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},a(e,t)};function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},o.apply(this,arguments)};function i(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]])}return r}function l(e,t,r,a){return new(r||(r=Promise))((function(n,o){function i(e){try{s(a.next(e))}catch(t){o(t)}}function l(e){try{s(a.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}s((a=a.apply(e,t||[])).next())}))}function s(e,t){var r,a,n,o,i={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(i=0)),i;)try{if(r=1,a&&(n=2&l[0]?a.return:l[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,l[1])).done)return n;switch(a=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,a=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(n=i.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){i.label=l[1];break}if(6===l[0]&&i.label<n[1]){i.label=n[1],n=l;break}if(n&&i.label<n[2]){i.label=n[2],i.ops.push(l);break}n[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(s){l=[6,s],a=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}Object.create;function c(e,t,r){if(r||2===arguments.length)for(var a,n=0,o=t.length;n<o;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}Object.create}}]);