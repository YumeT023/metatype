"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[272],{5985:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var r=a(1163),n=(a(959),a(7942));a(9688);const s={},i="Function as a service (FaaS) runner",l={unversionedId:"faas-runner/index",id:"faas-runner/index",title:"Function as a service (FaaS) runner",description:"Work in progress.",source:"@site/use-cases/faas-runner/index.mdx",sourceDirName:"faas-runner",slug:"/faas-runner/",permalink:"/use-cases/faas-runner/",draft:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/website/use-cases/faas-runner/index.mdx",tags:[],version:"current",frontMatter:{},sidebar:"useCases",previous:{title:"Automatic CRUD",permalink:"/use-cases/automatic-crud/"},next:{title:"The missing GraphQL server",permalink:"/use-cases/graphql-server/"}},o={},c=[],u={toc:c},d="wrapper";function m(e){let{components:t,...a}=e;return(0,n.kt)(d,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"function-as-a-service-faas-runner"},"Function as a service (FaaS) runner"),(0,n.kt)("p",null,"Work in progress."))}m.isMDXComponent=!0},6986:(e,t,a)=>{a.d(t,{Z:()=>p});var r=a(959),n=a(3268),s=a(715),i=a(7114),l=a(9037);const o={container:"container_KHaM",panel:"panel_p8cl",editor:"editor_LjJP",response:"response_Ger1",tool:"tool_nUFu",notool:"notool_i7V8"},c=e=>{e.getWrapperElement().closest(".graphiql-editor").style.height=`${e.doc.height}px`};function u(e){const{queryEditor:t,variableEditor:a,headerEditor:n}=(0,l._i)({nonNull:!0}),[s,i]=(0,r.useState)(e.defaultTab),u=(0,l.Xd)({onCopyQuery:e.onCopyQuery}),d=(0,l.fE)();return(0,r.useEffect)((()=>{a&&c(a)}),[s,a]),(0,r.useEffect)((()=>{n&&c(n)}),[s,n]),(0,r.useEffect)((()=>{t&&(t.setOption("lineNumbers",!1),t.setOption("keyMap",t.getOption("extraKeys")),t.setOption("gutters",[]),t.on("change",c),c(t))}),[t]),(0,r.useEffect)((()=>{a&&(a.setOption("lineNumbers",!1),a.setOption("gutters",[]),a.on("change",c))}),[a]),(0,r.useEffect)((()=>{n&&(n.setOption("lineNumbers",!1),n.setOption("gutters",[]),n.on("change",c))}),[n]),r.createElement("div",{className:"graphiql-editors"},r.createElement("section",{className:"graphiql-query-editor","aria-label":"Query Editor"},r.createElement("div",{className:"graphiql-query-editor-wrapper"},r.createElement(l.WK,{editorTheme:e.editorTheme,keyMap:e.keyMap,onCopyQuery:e.onCopyQuery,onEdit:e.onEditQuery,readOnly:e.readOnly})),r.createElement("div",{className:"graphiql-toolbar",role:"toolbar","aria-label":"Editor Commands"},r.createElement(l._8,null),r.createElement(l.wC,{onClick:()=>d(),label:"Prettify query (Shift-Ctrl-P)"},r.createElement(l.Kt,{className:"graphiql-toolbar-icon","aria-hidden":"true"})),r.createElement(l.wC,{onClick:()=>u(),label:"Copy query (Shift-Ctrl-C)"},r.createElement(l.TI,{className:"graphiql-toolbar-icon","aria-hidden":"true"})))),r.createElement("div",{className:"graphiql-editor-tools"},r.createElement("div",{className:"graphiql-editor-tools-tabs"},r.createElement(l.v0,{type:"button",className:"variables"===s?"active":"",onClick:()=>{i("variables"===s?"":"variables")}},"Variables"),r.createElement(l.v0,{type:"button",className:"headers"===s?"active":"",onClick:()=>{i("headers"===s?"":"headers")}},"Headers"))),r.createElement("section",{className:`graphiql-editor-tool ${s&&s.length>0?o.tool:o.notool}`,"aria-label":"variables"===s?"Variables":"Headers"},r.createElement(l.hF,{editorTheme:e.editorTheme,isHidden:"variables"!==s,keyMap:e.keyMap,onEdit:e.onEditVariables,readOnly:e.readOnly}),r.createElement(l.LA,{editorTheme:e.editorTheme,isHidden:"headers"!==s,keyMap:e.keyMap,onEdit:e.onEditHeaders,readOnly:e.readOnly})))}class d{constructor(){this.map=new Map,this.length=0}getItem(e){return this.map.get(e)}setItem(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}removeItem(e){this.map.has(e)&&(this.length-=1),this.map.delete(e)}clear(){this.length=0,this.map.clear()}}function m(){return(0,l.JB)({nonNull:!0}).isFetching?r.createElement(l.$j,null):null}function p(e){let{typegraph:t,query:a,panel:c=null,headers:p={},variables:h={},tab:g=""}=e;const{siteConfig:{customFields:{tgUrl:E}}}=(0,i.Z)(),y=(0,r.useMemo)((()=>new d),[]);return r.createElement(s.Z,{fallback:r.createElement("div",null,"Loading...")},(()=>{const e=(0,r.useMemo)((()=>(0,n.nq)({url:`${E}/${t}`})),[]);return r.createElement(l.j$,{fetcher:e,defaultQuery:a.loc.source.body.trim(),defaultHeaders:JSON.stringify(p),variables:JSON.stringify(h),storage:y},r.createElement("div",{className:`graphiql-container ${o.container}`},c?r.createElement("div",{className:`graphiql-response ${o.panel}`},c):null,r.createElement("div",{className:`graphiql-session ${o.editor}`},r.createElement(u,{defaultTab:g})),r.createElement("div",{className:`graphiql-response ${o.response}`},r.createElement(m,null),r.createElement(l.iB,null))))}))}},9688:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(1163),n=a(6986),s=a(9107),i=a(959);function l(e){let{python:t,...a}=e;return i.createElement(n.Z,(0,r.Z)({panel:i.createElement(s.Z,{language:"python"},t)},a))}}}]);