"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8351],{2434:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>d,frontMatter:()=>n,metadata:()=>i,toc:()=>c});var r=a(1163),l=(a(959),a(7942));a(9688);const n={},s="Programmable API gateway",i={unversionedId:"programmable-api-gateway/index",id:"programmable-api-gateway/index",title:"Programmable API gateway",description:"Work in progress.",source:"@site/use-cases/programmable-api-gateway/index.mdx",sourceDirName:"programmable-api-gateway",slug:"/programmable-api-gateway/",permalink:"/use-cases/programmable-api-gateway/",draft:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/website/use-cases/programmable-api-gateway/index.mdx",tags:[],version:"current",frontMatter:{},sidebar:"useCases",previous:{title:"Function as a service (FaaS) runner",permalink:"/use-cases/faas-runner/"}},o={},c=[],m={toc:c},p="wrapper";function d(e){let{components:t,...a}=e;return(0,l.kt)(p,(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"programmable-api-gateway"},"Programmable API gateway"),(0,l.kt)("p",null,"Work in progress."))}d.isMDXComponent=!0},6986:(e,t,a)=>{a.d(t,{Z:()=>u});var r=a(959),l=a(3268),n=a(715),s=a(7114),i=a(9037);const o={container:"container_KHaM",panel:"panel_p8cl",editor:"editor_LjJP",response:"response_Ger1",tool:"tool_nUFu",notool:"notool_i7V8"},c=e=>{e.getWrapperElement().closest(".graphiql-editor").style.height=`${e.doc.height}px`};function m(e){const{queryEditor:t,variableEditor:a,headerEditor:l}=(0,i._i)({nonNull:!0}),[n,s]=(0,r.useState)(e.defaultTab),m=(0,i.Xd)({onCopyQuery:e.onCopyQuery}),p=(0,i.fE)();return(0,r.useEffect)((()=>{a&&c(a)}),[n,a]),(0,r.useEffect)((()=>{l&&c(l)}),[n,l]),(0,r.useEffect)((()=>{t&&(t.setOption("lineNumbers",!1),t.setOption("gutters",[]),t.on("change",c),c(t))}),[t]),(0,r.useEffect)((()=>{a&&(a.setOption("lineNumbers",!1),a.setOption("gutters",[]),a.on("change",c))}),[a]),(0,r.useEffect)((()=>{l&&(l.setOption("lineNumbers",!1),l.setOption("gutters",[]),l.on("change",c))}),[l]),r.createElement("div",{className:"graphiql-editors"},r.createElement("section",{className:"graphiql-query-editor","aria-label":"Query Editor"},r.createElement("div",{className:"graphiql-query-editor-wrapper"},r.createElement(i.WK,{editorTheme:e.editorTheme,keyMap:e.keyMap,onCopyQuery:e.onCopyQuery,onEdit:e.onEditQuery,readOnly:e.readOnly})),r.createElement("div",{className:"graphiql-toolbar",role:"toolbar","aria-label":"Editor Commands"},r.createElement(i._8,null),r.createElement(i.wC,{onClick:()=>p(),label:"Prettify query (Shift-Ctrl-P)"},r.createElement(i.Kt,{className:"graphiql-toolbar-icon","aria-hidden":"true"})),r.createElement(i.wC,{onClick:()=>m(),label:"Copy query (Shift-Ctrl-C)"},r.createElement(i.TI,{className:"graphiql-toolbar-icon","aria-hidden":"true"})))),r.createElement("div",{className:"graphiql-editor-tools"},r.createElement("div",{className:"graphiql-editor-tools-tabs"},r.createElement(i.v0,{type:"button",className:"variables"===n?"active":"",onClick:()=>{s("variables"===n?"":"variables")}},"Variables"),r.createElement(i.v0,{type:"button",className:"headers"===n?"active":"",onClick:()=>{s("headers"===n?"":"headers")}},"Headers"))),r.createElement("section",{className:`graphiql-editor-tool ${n&&n.length>0?o.tool:o.notool}`,"aria-label":"variables"===n?"Variables":"Headers"},r.createElement(i.hF,{editorTheme:e.editorTheme,isHidden:"variables"!==n,keyMap:e.keyMap,onEdit:e.onEditVariables,readOnly:e.readOnly}),r.createElement(i.LA,{editorTheme:e.editorTheme,isHidden:"headers"!==n,keyMap:e.keyMap,onEdit:e.onEditHeaders,readOnly:e.readOnly})))}class p{constructor(){this.map=new Map,this.length=0}getItem(e){return this.map.get(e)}setItem(e,t){this.map.has(e)||(this.length+=1),this.map.set(e,t)}removeItem(e){this.map.has(e)&&(this.length-=1),this.map.delete(e)}clear(){this.length=0,this.map.clear()}}function d(){return(0,i.JB)({nonNull:!0}).isFetching?r.createElement(i.$j,null):null}function u(e){let{typegraph:t,query:a,panel:c=null,headers:u={},variables:g={},tab:h=""}=e;const{siteConfig:{customFields:{tgUrl:y}}}=(0,s.Z)(),b=(0,r.useMemo)((()=>new p),[]);return r.createElement(n.Z,{fallback:r.createElement("div",null,"Loading...")},(()=>{const e=(0,r.useMemo)((()=>(0,l.nq)({url:`${y}/${t}`})),[]);return r.createElement(i.j$,{fetcher:e,defaultQuery:a.loc.source.body.trim(),defaultHeaders:JSON.stringify(u),variables:JSON.stringify(g),storage:b},r.createElement("div",{className:`graphiql-container ${o.container}`},c?r.createElement("div",{className:`graphiql-response ${o.panel}`},c):null,r.createElement("div",{className:`graphiql-session ${o.editor}`},r.createElement(m,{defaultTab:h})),r.createElement("div",{className:`graphiql-response ${o.response}`},r.createElement(d,null),r.createElement(i.iB,null))))}))}},9688:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(1163),l=a(6986),n=a(9107),s=a(959);function i(e){let{python:t,...a}=e;return s.createElement(l.Z,(0,r.Z)({panel:s.createElement(n.Z,{language:"python"},t)},a))}}}]);