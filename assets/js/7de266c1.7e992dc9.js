"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[643],{7942:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var r=a(959);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(a),m=n,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return a?r.createElement(h,l(l({ref:t},c),{},{components:a})):r.createElement(h,l({ref:t},c))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,l=new Array(i);l[0]=u;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6642:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var r=a(4250),n=(a(959),a(7942));const i={sidebar_position:1},l="Overview",o={unversionedId:"concepts/overview",id:"concepts/overview",title:"Overview",description:"This page gives a high-level description of what Metatype is and how it works.",source:"@site/docs/concepts/overview.mdx",sourceDirName:"concepts",slug:"/concepts/overview",permalink:"/docs/concepts/overview",draft:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/website/docs/concepts/overview.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"concepts",next:{title:"Typegraph",permalink:"/docs/concepts/typegraph/"}},s={},p=[{value:"What is Metatype ?",id:"what-is-metatype-",level:2},{value:"Why Metatype ?",id:"why-metatype-",level:2},{value:"Types",id:"types",level:3},{value:"Materializers",id:"materializers",level:3},{value:"Runtimes",id:"runtimes",level:3},{value:"Policies",id:"policies",level:3},{value:"Triggers",id:"triggers",level:3},{value:"GraphQL support",id:"graphql-support",level:2}],c={toc:p};function d(e){let{components:t,...i}=e;return(0,n.kt)("wrapper",(0,r.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"overview"},"Overview"),(0,n.kt)("p",null,"This page gives a high-level description of what Metatype is and how it works."),(0,n.kt)("admonition",{title:"Looking to build?",type:"info"},(0,n.kt)("p",{parentName:"admonition"},"For a hands-on introduction, head over to the ",(0,n.kt)("a",{parentName:"p",href:"/docs/tutorials/quickstart"},"quick-start guide")," to directly start build your first typegraphs.")),(0,n.kt)("h2",{id:"what-is-metatype-"},"What is Metatype ?"),(0,n.kt)("p",null,"Metatype is a ",(0,n.kt)("strong",{parentName:"p"},"composition ecosystem")," for developers. It allows to build autonomous, discoverable, and modular API blocks with serverless orchestration.\nThese building blocks enable developers to iterate faster, remain agile as the stack grow and focus on domain design rather than implementation."),(0,n.kt)("p",null,"The ecosystem consists of the following parts:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"typegraph"},(0,n.kt)("strong",{parentName:"a"},"Typegraph")),": a package to describe graphs of types and their compositions"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"typegate"},(0,n.kt)("strong",{parentName:"a"},"Typegate")),": a fast and secure API-agnostic extensible gateway"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"meta"},(0,n.kt)("strong",{parentName:"a"},"Meta")),": a command-line tool for smooth developer experience (DX) and deployment")),(0,n.kt)("div",{style:{textAlign:"center"}},(0,n.kt)("p",null,(0,n.kt)("img",{src:a(2710).Z,width:"461",height:"351"}))),(0,n.kt)("h2",{id:"why-metatype-"},"Why Metatype ?"),(0,n.kt)("p",null,"As a project/product/start-up evolves, the technological stack becomes a challenging place where initiatives collides and efficiency struggles. Especially:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"validating data objects at multiple levels (e.g. front, back, storage, underlying services)"),(0,n.kt)("li",{parentName:"ul"},"hiring talented engineers become a ",(0,n.kt)("a",{parentName:"li",href:"https://martinfowler.com/articles/bottlenecks-of-scaleups/02-talent.html"},"bottleneck")),(0,n.kt)("li",{parentName:"ul"},"new API or data consumers arise (e.g. new partner/team/tools)"),(0,n.kt)("li",{parentName:"ul"},"technical debt become unhealthy ",(0,n.kt)("a",{parentName:"li",href:"https://martinfowler.com/articles/bottlenecks-of-scaleups/01-tech-debt.html"},"topics")),(0,n.kt)("li",{parentName:"ul"},"new features expand features and the modelling domains"),(0,n.kt)("li",{parentName:"ul"},"constrained technological progress and innovation by current state"),(0,n.kt)("li",{parentName:"ul"},"complexity and frictions decrease ",(0,n.kt)("a",{parentName:"li",href:"https://martinfowler.com/articles/developer-effectiveness.html"},"developer experience")),(0,n.kt)("li",{parentName:"ul"},"security and observability needs widen")),(0,n.kt)("p",null,"Metatype provides an abstraction layer to enable API composition and tackle with agility the above scenarii."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"5W1H"),(0,n.kt)("th",{parentName:"tr",align:null},"Specialized API"),(0,n.kt)("th",{parentName:"tr",align:null},"Metatype"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Why (goal)"),(0,n.kt)("td",{parentName:"tr",align:null},"project defined"),(0,n.kt)("td",{parentName:"tr",align:null},"owned by clients")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"How (logic)"),(0,n.kt)("td",{parentName:"tr",align:null},"server code"),(0,n.kt)("td",{parentName:"tr",align:null},"compose with ",(0,n.kt)("a",{parentName:"td",href:"#materializers"},"materializers"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"What (content)"),(0,n.kt)("td",{parentName:"tr",align:null},"server defined"),(0,n.kt)("td",{parentName:"tr",align:null},"client selects from ",(0,n.kt)("a",{parentName:"td",href:"#types"},"types"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Where (execution)"),(0,n.kt)("td",{parentName:"tr",align:null},"single environment"),(0,n.kt)("td",{parentName:"tr",align:null},"orchestrate ",(0,n.kt)("a",{parentName:"td",href:"#runtimes"},"runtimes"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Who (authentication)"),(0,n.kt)("td",{parentName:"tr",align:null},"hard-coded rules"),(0,n.kt)("td",{parentName:"tr",align:null},"controlled by ",(0,n.kt)("a",{parentName:"td",href:"#policies"},"policies"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"When (event)"),(0,n.kt)("td",{parentName:"tr",align:null},"based on requests"),(0,n.kt)("td",{parentName:"tr",align:null},"based on ",(0,n.kt)("a",{parentName:"td",href:"#triggers"},"triggers"))))),(0,n.kt)("h3",{id:"types"},"Types"),(0,n.kt)("p",null,"A graph of types or typegraph defines a type system describing all data objects processed in Metatype. This data structure is the primary building block of the system and can be extended by the user."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-py"},'t.struct({\n    "id": t.string().id,\n    "age": t.integer(),\n    "cars": t.struct({\n        "name": t.string().s_optional()\n    })\n})\n')),(0,n.kt)("p",null,"Taking the analogy of a Postgres database, this is similar to SQL data definition language (DDL) and is not limited to tabular data."),(0,n.kt)("h3",{id:"materializers"},"Materializers"),(0,n.kt)("p",null,"The type system also supports first-order types which are specified by providing a materializer. This provides support for transforming between two types."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-py"},'t.func(t.struct({"name": t.string()}), t.string(), deno.FunMat("sayHello"))\n')),(0,n.kt)("p",null,"The equivalent is SQL would be joins, functions or aliases."),(0,n.kt)("h3",{id:"runtimes"},"Runtimes"),(0,n.kt)("p",null,"Materializers alone are not enough to perform the transformations. A materializer should also define in which runtime the transform will be operated."),(0,n.kt)("p",null,"In SQL, the runtime would be the database running the queries."),(0,n.kt)("h3",{id:"policies"},"Policies"),(0,n.kt)("p",null,"Policies are a special type of materializer ",(0,n.kt)("inlineCode",{parentName:"p"},"t.struct({}) => t.boolean()")," and can be attached to any type. It determines on evaluation whether one of the polices authorizes the callee to access it."),(0,n.kt)("p",null,"Row level security (RLS) is similar for a Postgres database."),(0,n.kt)("h3",{id:"triggers"},"Triggers"),(0,n.kt)("p",null,"Materializers can be triggered by a HTTP requests or any general purpose events."),(0,n.kt)("h2",{id:"graphql-support"},"GraphQL support"),(0,n.kt)("p",null,"Once a typegraph is defined, it can be projected to GraphQL and become compatible with GraphQL queries/mutations. This is the most convient way to interact with a typegraph for now. However the system could also support other query language and should not be limited to what GraphQL offers."))}d.isMDXComponent=!0},2710:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/ecosystem.drawio-44fc8f054a6dd4f9a9e5210ba9c33356.svg"}}]);