"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3828],{1976:(e,t,p)=>{p.r(t),p.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>c,toc:()=>a});var i=p(5882),o=(p(959),p(7942)),n=p(6224);const s={},r="Policies",c={unversionedId:"concepts/typegraph/policies/index",id:"concepts/typegraph/policies/index",title:"Policies",description:"Allow all",source:"@site/docs/concepts/typegraph/policies/index.mdx",sourceDirName:"concepts/typegraph/policies",slug:"/concepts/typegraph/policies/",permalink:"/docs/concepts/typegraph/policies/",draft:!1,editUrl:"https://github.com/metatypedev/metatype/tree/main/website/docs/concepts/typegraph/policies/index.mdx",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Importers",permalink:"/docs/concepts/typegraph/importers"},next:{title:"Runtimes",permalink:"/docs/concepts/typegraph/runtimes"}},l={},a=[{value:"Allow all",id:"allow-all",level:2}],d={toc:a};function m(e){let{components:t,...s}=e;return(0,o.kt)("wrapper",(0,i.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"policies"},"Policies"),(0,o.kt)("h2",{id:"allow-all"},"Allow all"),(0,o.kt)(n.Z,{language:"py",mdxType:"CodeBlock"},p(8562).Z))}m.isMDXComponent=!0},8562:(e,t,p)=>{p.d(t,{Z:()=>i});const i='from typegraph import policies\nfrom typegraph import t\nfrom typegraph import TypeGraph\nfrom typegraph.runtimes.graphql import GraphQLRuntime\n\nwith TypeGraph("policies") as g:\n\n    remote = GraphQLRuntime("https://graphqlzero.almansi.me/api")\n    public = policies.public()\n\n    post = t.struct(\n        {\n            "id": t.integer(),\n            "title": t.string(),\n            "body": t.string(),\n        }\n    ).named("Post")\n\n    getter = remote.query(t.struct({"id": t.integer()}), t.optional(post)).add_policy(\n        policies.public()\n    )\n\n    g.expose(post=getter)\n'}}]);